schema: '2.0'
stages:
  prepare_data:
    cmd: python src/WattPredictor/pipeline/feature_pipeline.py
    deps:
    - path: src/WattPredictor/components/features/
      hash: md5
      md5: 53e872de5beff54fa1f9cce94bbe1a3f.dir
      size: 34162
      nfiles: 8
    - path: src/WattPredictor/config/config.py
      hash: md5
      md5: 5456614e8a6d9ea7e179f5a2b83d7b18
      size: 11851
    outs:
    - path: artifacts/engineering/preprocessed.csv
      hash: md5
      md5: c1b75c921391d20dedd6585282ba4b5e
      size: 7255515
    - path: data/processed/elec_wx_demand.csv
      hash: md5
      md5: 58e028e60e6eb67ad369f048a71f8f20
      size: 16454054
  train_model:
    cmd: python src/WattPredictor/pipeline/training_pipeline.py
    deps:
    - path: artifacts/engineering/preprocessed.csv
      hash: md5
      md5: c1b75c921391d20dedd6585282ba4b5e
      size: 7255515
    - path: src/WattPredictor/components/monitor/drift.py
      hash: md5
      md5: a66fb7a530a5ae46f73aa922200cb6b1
      size: 3347
    - path: src/WattPredictor/components/training/
      hash: md5
      md5: 7f3940764dad7610cab02c929e2795f1.dir
      size: 20683
      nfiles: 6
    - path: src/WattPredictor/config/config.py
      hash: md5
      md5: 5456614e8a6d9ea7e179f5a2b83d7b18
      size: 11851
    - path: src/WattPredictor/utils/ts_generator.py
      hash: md5
      md5: d6a6afb44f3083bcc5b69d7178156fce
      size: 4838
    params:
      config_file/params.yaml:
        training.cv_folds: 5
        training.input_seq_len: 672
    outs:
    - path: artifacts/drift/
      hash: md5
      md5: 71d507a50eeb88915c8e6714782607de.dir
      size: 3885469
      nfiles: 2
    - path: artifacts/evaluation/business_impact.json
      hash: md5
      md5: 8383e6546cac6163f8353e2495a98ecc
      size: 1634
    - path: artifacts/evaluation/metrics.json
      hash: md5
      md5: d42d18892200db00cfaec49e6ca90138
      size: 484
    - path: artifacts/trainer/model.joblib
      hash: md5
      md5: cce4349e1e535ef5a8b0c9d64ba0c892
      size: 602493
  predict:
    cmd: python src/WattPredictor/pipeline/inference_pipeline.py
    deps:
    - path: artifacts/trainer/model.joblib
      hash: md5
      md5: cce4349e1e535ef5a8b0c9d64ba0c892
      size: 602493
    - path: src/WattPredictor/config/config.py
      hash: md5
      md5: 5456614e8a6d9ea7e179f5a2b83d7b18
      size: 11851
    outs:
    - path: artifacts/prediction/predictions.csv
      hash: md5
      md5: 75e7a72840f29e861d709c0eba1a619e
      size: 432
